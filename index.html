<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pensamiento Cr√≠tico con Calificaci√≥n (Vercel)</title>
    <style>
        /* --- INICIO CSS --- */
        :root {
            --primary-color: #0d6efd;
            --success-color: #198754;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --light-gray: #f8f9fa;
            --medium-gray: #dee2e6;
            --dark-gray: #6c757d;
            --text-color: #212529;
            --background-color: #f8f9fa;
            --card-background: #fff;
            --border-radius: 8px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0; /* Quitamos margen default */
            padding: 0; /* Quitamos padding default */
            line-height: 1.6;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Asegura que el footer quede abajo */
        }

        /* --- Barra de Navegaci√≥n --- */
        nav.navbar {
            background-color: var(--card-background);
            padding: 10px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-bottom: 1px solid var(--medium-gray);
        }
        nav.navbar ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center; /* Centrar items */
            gap: 30px; /* Espacio entre items */
        }
        nav.navbar li {
            display: inline-block;
        }
        nav.navbar a {
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        nav.navbar a:hover, nav.navbar a.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* --- Contenedor Principal --- */
        .container {
            flex-grow: 1; /* Ocupa el espacio disponible */
            max-width: 800px;
            margin: 30px auto; /* Margen arriba/abajo */
            padding: 25px 35px; /* M√°s padding */
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.07);
            border: 1px solid var(--medium-gray);
        }

        h1 {
            color: #343a40;
            text-align: center;
            margin-top: 0; /* Sin margen superior si es el primer elemento */
            margin-bottom: 25px;
            font-size: 2em; /* Un poco m√°s grande */
            font-weight: 600;
        }
        h2 { /* T√≠tulos de secci√≥n (ej. "Acerca de") */
            color: #495057;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
            font-weight: 500;
        }

        /* --- √Årea de Puntuaci√≥n --- */
        #score-area {
            margin-bottom: 25px;
            font-size: 1.05em; /* Ligeramente m√°s grande */
            color: var(--dark-gray);
            text-align: right;
            font-weight: 500;
            background-color: var(--light-gray);
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid var(--medium-gray);
        }
         #score-area .correct { color: var(--success-color); font-weight: 600;}
         #score-area .total { color: var(--primary-color); font-weight: 600;}

        /* --- Mensajes (Loading/Error) --- */
        .message-area { /* ... (igual que antes) ... */ }
        #loading-error-area.loading { /* ... (igual que antes) ... */ }
        #loading-error-area.error { /* ... (igual que antes) ... */ }

        /* --- √Årea del Ejercicio --- */
        #exercise-area .argument { /* ... (igual que antes, con 'strong' si lo ten√≠as) ... */ }
        #exercise-area .question { /* ... (igual que antes) ... */ }
        #exercise-area .options label { /* ... (igual que antes) ... */ }
        #exercise-area .options input[type="radio"] { /* ... (igual que antes) ... */ }
        #exercise-area button[type="submit"] { /* ... (igual que antes) ... */ }

        /* --- √Årea de Feedback --- */
        #feedback-area { /* ... (igual que antes) ... */ }
        #feedback-area h3 { /* ... (igual que antes) ... */ }
        #feedback-area p { /* ... (igual que antes) ... */ }
        #feedback-area .options-feedback label { /* ... (igual que antes) ... */ }
        #feedback-area #next-btn { /* ... (igual que antes) ... */ }

        /* --- √Årea de Completado --- */
        #completion-area { /* ... (igual que antes) ... */ }
        #completion-area h2 { /* ... (igual que antes) ... */ }
        #completion-area #reset-btn-completion { /* ... (igual que antes) ... */ }

        /* --- Secci√≥n "Acerca de" --- */
        #about-section {
            padding: 15px;
            background-color: #fdfdff; /* Fondo ligeramente diferente */
            border: 1px solid var(--medium-gray);
            border-radius: var(--border-radius);
            margin-top: 20px;
        }
        #about-section p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        #about-section ul {
            margin-left: 20px;
             margin-bottom: 15px;
        }

        /* --- Botones Generales --- */
        .nav-button { /* ... (igual que antes) ... */ }
        .reset { /* ... (igual que antes) ... */ }

        /* --- Controles Generales --- */
        .controls { /* ... (igual que antes) ... */ }

        /* --- Pie de P√°gina --- */
        footer.page-footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px; /* Espacio sobre el footer */
            background-color: #e9ecef;
            color: var(--dark-gray);
            font-size: 0.9em;
            border-top: 1px solid var(--medium-gray);
        }
        footer.page-footer p {
            margin: 5px 0;
        }
        footer.page-footer a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }
        footer.page-footer a:hover {
            text-decoration: underline;
        }

        /* --- Clases Utilitarias --- */
        .hidden {
            display: none;
        }

        /* --- FIN CSS --- */
    </style>
</head>
<body>

    <!-- Barra de Navegaci√≥n -->
    <nav class="navbar">
        <ul>
            <li><a href="#" id="nav-inicio" class="active">Inicio (Ejercicio)</a></li>
            <li><a href="#" id="nav-acerca">Acerca de</a></li>
        </ul>
    </nav>

    <!-- Contenedor Principal -->
    <div class="container">

        <div id="main-content"> <!-- Agrupador para ejercicio/feedback/etc. -->
            <h1>üß† Ejercicio de Pensamiento Cr√≠tico üí°</h1>

            <div id="score-area">
                <!-- La puntuaci√≥n se actualizar√° aqu√≠ -->
                Puntuaci√≥n: <span class="correct">0</span> / <span class="total">0</span> (M√°x: 50)
            </div>

            <div id="loading-error-area" class="message-area hidden"></div>

            <div id="exercise-area" class="hidden">
                 <div class="argument">
                     <strong>Analiza el siguiente argumento:</strong>
                     <span id="argument-text"></span>
                </div>
                <p class="question" id="question-text"></p>
                <form id="exercise-form">
                    <div id="options-container" class="options"></div>
                    <button type="submit" id="submit-btn">Enviar Respuesta</button>
                </form>
            </div>

            <div id="feedback-area" class="message-area feedback hidden">
                <h3 id="feedback-result"></h3>
                <p><strong>Explicaci√≥n:</strong> <span id="feedback-explanation"></span></p>
                <div id="feedback-options-display" class="options options-feedback"></div>
                <hr>
                 <div style="text-align: center;">
                    <button id="next-btn" class="nav-button">Siguiente Pregunta ‚Üí</button>
                 </div>
            </div>

            <div id="completion-area" class="message-area final-message hidden">
                 <h2>¬°Felicidades! üéâ</h2>
                 <p>Has completado los 50 ejercicios.</p>
                 <p>Puntuaci√≥n Final: <span class="correct">X</span> / <span class="total">50</span></p>
                 <button id="reset-btn-completion" class="nav-button reset">Comenzar de Nuevo</button>
            </div>

             <div class="controls">
                 <button id="reset-btn-main" class="nav-button reset">Reiniciar Ejercicio</button>
            </div>
        </div> <!-- Fin de #main-content -->

        <!-- Secci√≥n "Acerca de" (oculta por defecto) -->
        <div id="about-section" class="hidden">
            <h2>Acerca de esta Aplicaci√≥n</h2>
            <p>
                Esta aplicaci√≥n est√° dise√±ada para ayudarte a ejercitar y mejorar tus habilidades de pensamiento cr√≠tico.
                Presenta argumentos generados din√°micamente por una inteligencia artificial (Google Gemini) y te pide
                identificar falacias, evaluar evidencia, reconocer supuestos y m√°s.
            </p>
            <p>
                El pensamiento cr√≠tico es esencial para tomar decisiones informadas, resolver problemas de manera efectiva
                y comprender el mundo que nos rodea de una forma m√°s profunda y objetiva.
            </p>
            <p>Caracter√≠sticas:</p>
            <ul>
                <li>50 ejercicios generados por IA.</li>
                <li>Variedad de tipos de preguntas (falacias, evidencia, supuestos, etc.).</li>
                <li>Retroalimentaci√≥n instant√°nea con explicaciones.</li>
                <li>Seguimiento de puntuaci√≥n.</li>
            </ul>
            <p>
                ¬°Esperamos que disfrutes y aproveches esta herramienta!
            </p>
            <button id="back-to-exercise-btn" class="nav-button">‚Üê Volver al Ejercicio</button>
        </div>

    </div> <!-- Fin de .container -->

    <!-- Pie de P√°gina -->
    <footer class="page-footer">
        <p>Contacto: Moris Polanco</p>
        <p><a href="mailto:mp@ufm.edu">mp@ufm.edu</a></p>
        <p><a href="https://morispolanco.github.io/mp/" target="_blank" rel="noopener noreferrer">morispolanco.github.io/mp</a></p>
    </footer>

    <script>
        // --- INICIO JAVASCRIPT ---
        document.addEventListener('DOMContentLoaded', () => {
            // --- Configuraci√≥n ---
            const API_URL = "/api/generate-exercise"; // API en Vercel
            const MAX_QUESTIONS = 50;

            // --- Referencias a Elementos del DOM ---
            const scoreAreaEl = document.getElementById('score-area');
            const scoreCorrectEl = scoreAreaEl.querySelector('.correct');
            const scoreTotalEl = scoreAreaEl.querySelector('.total');
            const loadingErrorAreaEl = document.getElementById('loading-error-area');
            const exerciseAreaEl = document.getElementById('exercise-area');
            const argumentTextEl = document.getElementById('argument-text');
            const questionTextEl = document.getElementById('question-text');
            const optionsContainerEl = document.getElementById('options-container');
            const exerciseFormEl = document.getElementById('exercise-form');
            const submitBtnEl = document.getElementById('submit-btn');
            const feedbackAreaEl = document.getElementById('feedback-area');
            const feedbackResultEl = document.getElementById('feedback-result');
            const feedbackExplanationEl = document.getElementById('feedback-explanation');
            const feedbackOptionsDisplayEl = document.getElementById('feedback-options-display');
            const nextBtnEl = document.getElementById('next-btn');
            const completionAreaEl = document.getElementById('completion-area');
            const completionScoreCorrectEl = completionAreaEl.querySelector('.correct'); // Span en completion
            const completionScoreTotalEl = completionAreaEl.querySelector('.total');   // Span en completion
            const resetBtnCompletionEl = document.getElementById('reset-btn-completion');
            const resetBtnMainEl = document.getElementById('reset-btn-main');
            const mainContentEl = document.getElementById('main-content'); // Contenedor principal del ejercicio
            const aboutSectionEl = document.getElementById('about-section');
            const backToExerciseBtnEl = document.getElementById('back-to-exercise-btn');
            const navInicioLink = document.getElementById('nav-inicio');
            const navAcercaLink = document.getElementById('nav-acerca');

            // --- Estado de la Aplicaci√≥n ---
            let currentQuestionNumber = 0; // N√∫mero de la pregunta actual (1 a MAX_QUESTIONS)
            let questionsAttempted = 0; // Total de preguntas mostradas/intentadas
            let correctAnswersCount = 0; // Contador de respuestas correctas
            let currentExerciseData = null;
            let isLoading = false;
            let currentView = 'exercise'; // 'exercise' o 'about'

            // --- Funciones UI ---
            function showLoading(message = "üîÑ Cargando ejercicio...") {
                loadingErrorAreaEl.textContent = message;
                loadingErrorAreaEl.classList.remove('hidden', 'error');
                loadingErrorAreaEl.classList.add('loading');
                exerciseAreaEl.classList.add('hidden');
                feedbackAreaEl.classList.add('hidden');
                completionAreaEl.classList.add('hidden');
                aboutSectionEl.classList.add('hidden'); // Ocultar 'Acerca de' al cargar
                mainContentEl.classList.remove('hidden'); // Asegurar que el contenido principal sea visible
                submitBtnEl.disabled = true;
                nextBtnEl.disabled = true;
                isLoading = true;
            }

            function showError(message) {
                loadingErrorAreaEl.textContent = message;
                loadingErrorAreaEl.classList.remove('hidden', 'loading');
                loadingErrorAreaEl.classList.add('error');
                exerciseAreaEl.classList.add('hidden');
                feedbackAreaEl.classList.add('hidden');
                completionAreaEl.classList.add('hidden');
                 aboutSectionEl.classList.add('hidden');
                 mainContentEl.classList.remove('hidden');
                submitBtnEl.disabled = true;
                nextBtnEl.disabled = true;
                isLoading = false;
                console.error("Error presentado:", message);
            }

            function hideLoadingError() {
                loadingErrorAreaEl.classList.add('hidden');
                loadingErrorAreaEl.classList.remove('loading', 'error');
            }

            function updateScoreDisplay() {
                 scoreCorrectEl.textContent = correctAnswersCount;
                 scoreTotalEl.textContent = questionsAttempted; // Mostrar sobre el total intentado
                 // Actualizar tambi√©n en el mensaje de completado si es visible
                 if (!completionAreaEl.classList.contains('hidden')) {
                     completionScoreCorrectEl.textContent = correctAnswersCount;
                     completionScoreTotalEl.textContent = MAX_QUESTIONS; // Mostrar sobre el m√°ximo al final
                 }
            }

            function showExerciseAreaView() {
                 mainContentEl.classList.remove('hidden');
                 aboutSectionEl.classList.add('hidden');
                 navInicioLink.classList.add('active');
                 navAcercaLink.classList.remove('active');
                 currentView = 'exercise';
                 // Mostrar el estado correcto (pregunta, feedback o completado)
                 if (currentQuestionNumber > MAX_QUESTIONS) {
                     showCompletion();
                 } else if (feedbackAreaEl.dataset.visible === 'true') { // Usar data attribute para recordar si mostrar feedback
                     exerciseAreaEl.classList.add('hidden');
                     feedbackAreaEl.classList.remove('hidden');
                 } else if (exerciseAreaEl.dataset.visible === 'true') { // Usar data attribute
                    feedbackAreaEl.classList.add('hidden');
                    exerciseAreaEl.classList.remove('hidden');
                 }
                  // Asegurarse que el √°rea de carga/error est√© oculta si no hay error activo
                  if (!loadingErrorAreaEl.classList.contains('error') && !loadingErrorAreaEl.classList.contains('loading')) {
                     hideLoadingError();
                  }

            }

            function showAboutView() {
                 mainContentEl.classList.add('hidden');
                 aboutSectionEl.classList.remove('hidden');
                 navInicioLink.classList.remove('active');
                 navAcercaLink.classList.add('active');
                 currentView = 'about';
            }


            // --- Funciones Principales ---

            async function fetchExercise() {
                if (isLoading) return;
                if (questionsAttempted >= MAX_QUESTIONS) {
                    showCompletion(); // Ya termin√≥
                    return;
                }

                questionsAttempted++; // Incrementar total de intentos
                currentQuestionNumber = questionsAttempted; // El n√∫mero de pregunta es el total intentado

                showLoading(`üîÑ Cargando ejercicio ${currentQuestionNumber}/${MAX_QUESTIONS}...`);
                updateScoreDisplay(); // Actualizar total

                try {
                    console.log(`Solicitando ejercicio ${currentQuestionNumber} a ${API_URL}`);
                    const response = await fetch(API_URL, { method: 'POST', headers: {'Content-Type': 'application/json'} });
                    console.log(`Respuesta de ${API_URL}: Status ${response.status}`);
                    const data = await response.json();

                    if (!response.ok) {
                        console.error(`Error del API (${response.status}):`, data.error || data);
                        throw new Error(data.error || `Error ${response.status} recibido de la API.`);
                    }

                    currentExerciseData = data;
                    console.log(`Ejercicio ${currentQuestionNumber} recibido.`); // Log simplificado

                    // Validaci√≥n (igual que antes)
                    if (!currentExerciseData || typeof currentExerciseData.argument !== 'string' /* ... etc */) {
                        throw new Error("Formato de ejercicio inv√°lido.");
                    }

                    hideLoadingError();
                    displayExercise(currentExerciseData);

                } catch (error) {
                    console.error(`Error al obtener ejercicio ${currentQuestionNumber}:`, error);
                    showError(error.message || "Error al cargar el ejercicio.");
                    // No revertir contador, el intento fall√≥ pero cuenta
                } finally {
                    isLoading = false;
                }
            }

            function displayExercise(exercise) {
                argumentTextEl.textContent = exercise.argument;
                questionTextEl.textContent = exercise.question;
                optionsContainerEl.innerHTML = ''; // Limpiar

                exercise.options.forEach((option, index) => {
                    const label = document.createElement('label');
                    const input = document.createElement('input');
                    const span = document.createElement('span');
                    input.type = 'radio'; input.name = 'answer'; input.value = index; input.id = `option-${index}`; input.required = true;
                    span.textContent = ` ${option}`;
                    label.htmlFor = `option-${index}`;
                    label.appendChild(input); label.appendChild(span);
                    optionsContainerEl.appendChild(label);
                });

                // Mostrar/Ocultar √°reas
                hideLoadingError(); // Ocultar si hab√≠a error previo
                exerciseAreaEl.classList.remove('hidden');
                exerciseAreaEl.dataset.visible = 'true'; // Marcar como visible
                feedbackAreaEl.classList.add('hidden');
                feedbackAreaEl.dataset.visible = 'false';
                completionAreaEl.classList.add('hidden');
                aboutSectionEl.classList.add('hidden'); // Asegurarse que about est√© oculto
                mainContentEl.classList.remove('hidden'); // Asegurar que main sea visible
                submitBtnEl.disabled = false;

                const firstOption = optionsContainerEl.querySelector('input[type="radio"]');
                if (firstOption) firstOption.focus();
            }

            function handleSubmit(event) {
                event.preventDefault();
                if (isLoading) return;

                const selectedOptionInput = optionsContainerEl.querySelector('input[name="answer"]:checked');
                if (!selectedOptionInput) {
                    // Mostrar mensaje temporal (igual que antes)
                     const tempErrorEl = document.createElement('div'); /* ... */
                     exerciseFormEl.appendChild(tempErrorEl);
                     setTimeout(() => { if (tempErrorEl.parentNode) tempErrorEl.remove(); }, 2500);
                    return;
                }

                const selectedIndex = parseInt(selectedOptionInput.value, 10);
                const isCorrect = selectedIndex === currentExerciseData.correct_option_index;

                if (isCorrect) {
                    correctAnswersCount++; // Incrementar contador de correctas
                }
                updateScoreDisplay(); // Actualizar display de puntuaci√≥n

                console.log(`Ejercicio ${currentQuestionNumber} respondido. Correcto: ${isCorrect}`);
                displayFeedback(isCorrect, selectedIndex);
            }

            function displayFeedback(isCorrect, selectedIndex) {
                exerciseAreaEl.classList.add('hidden');
                exerciseAreaEl.dataset.visible = 'false';
                feedbackAreaEl.classList.remove('hidden');
                feedbackAreaEl.dataset.visible = 'true'; // Marcar feedback como visible
                completionAreaEl.classList.add('hidden');
                aboutSectionEl.classList.add('hidden');
                 mainContentEl.classList.remove('hidden');

                feedbackAreaEl.className = `message-area feedback ${isCorrect ? 'correct' : 'incorrect'}`;
                feedbackResultEl.textContent = isCorrect ? '‚úÖ ¬°Respuesta Correcta!' : '‚ùå Respuesta Incorrecta';
                feedbackExplanationEl.textContent = currentExerciseData.explanation;

                feedbackOptionsDisplayEl.innerHTML = '';
                currentExerciseData.options.forEach((option, index) => {
                    const label = document.createElement('label');
                    let labelClass = ""; let suffix = "";
                    if (index === currentExerciseData.correct_option_index) {
                        labelClass = "correct-answer"; suffix = " <strong>(Correcta)</strong>";
                    } else if (index === selectedIndex) {
                        labelClass = "user-incorrect-choice"; suffix = " <em>(Tu respuesta)</em>";
                    }
                    label.className = labelClass;
                    label.innerHTML = escapeHTML(option) + suffix;
                    feedbackOptionsDisplayEl.appendChild(label);
                });

                submitBtnEl.disabled = true;
                nextBtnEl.disabled = false;
                nextBtnEl.focus();
            }

             function handleNextQuestion() {
                 if (isLoading) return;

                // Ocultar feedback antes de cargar la siguiente
                feedbackAreaEl.classList.add('hidden');
                feedbackAreaEl.dataset.visible = 'false';

                if (questionsAttempted >= MAX_QUESTIONS) {
                    console.log("Completados los 50 ejercicios.");
                    showCompletion();
                } else {
                    fetchExercise(); // Carga la siguiente
                }
            }

            function showCompletion() {
                 hideLoadingError();
                 exerciseAreaEl.classList.add('hidden');
                 exerciseAreaEl.dataset.visible = 'false';
                 feedbackAreaEl.classList.add('hidden');
                 feedbackAreaEl.dataset.visible = 'false';
                 completionAreaEl.classList.remove('hidden');
                 aboutSectionEl.classList.add('hidden');
                  mainContentEl.classList.remove('hidden');

                 updateScoreDisplay(); // Asegura que la puntuaci√≥n final est√© actualizada

                 // Ocultar √°rea de puntuaci√≥n normal y bot√≥n reset principal
                 scoreAreaEl.classList.add('hidden');
                 resetBtnMainEl.classList.add('hidden');
                 resetBtnCompletionEl.focus();
            }


            function resetApp() {
                console.log("Reiniciando la aplicaci√≥n...");
                currentQuestionNumber = 0; // Se incrementar√° a 1 en fetch
                questionsAttempted = 0;
                correctAnswersCount = 0;
                currentExerciseData = null;
                isLoading = false;

                // Ocultar secciones espec√≠ficas, mostrar elementos iniciales
                completionAreaEl.classList.add('hidden');
                feedbackAreaEl.classList.add('hidden');
                feedbackAreaEl.dataset.visible = 'false';
                exerciseAreaEl.classList.add('hidden');
                exerciseAreaEl.dataset.visible = 'false'; // Resetear marcador
                 hideLoadingError();

                // Mostrar √°rea de puntuaci√≥n normal y bot√≥n reset principal
                 scoreAreaEl.classList.remove('hidden');
                 resetBtnMainEl.classList.remove('hidden'); // Asegurar que sea visible
                 updateScoreDisplay(); // Resetear puntuaci√≥n visual a 0/0

                 // Asegurarse de mostrar el √°rea principal y no "Acerca de"
                 showExerciseAreaView();

                // Cargar la primera pregunta
                fetchExercise();
            }

            // Funci√≥n simple para escapar HTML
            function escapeHTML(str) { /* ... (igual que antes) ... */ }

            // --- Inicializaci√≥n y Event Listeners ---
            if (!exerciseFormEl /* ... y otros elementos esenciales ... */) {
                 console.error("Error cr√≠tico: Faltan elementos del DOM.");
                 document.body.innerHTML = '<div class="container"><p class="error">Error cr√≠tico al cargar la aplicaci√≥n.</p></div>';
                 return;
            }

            // Listeners de la app
            exerciseFormEl.addEventListener('submit', handleSubmit);
            nextBtnEl.addEventListener('click', handleNextQuestion);
            resetBtnCompletionEl.addEventListener('click', resetApp);
            resetBtnMainEl.addEventListener('click', resetApp);
            backToExerciseBtnEl.addEventListener('click', showExerciseAreaView);

            // Listeners de navegaci√≥n
            navInicioLink.addEventListener('click', (e) => {
                e.preventDefault();
                if (currentView !== 'exercise') {
                    // Si no estamos en la vista de ejercicio, la mostramos.
                    // Si ya estamos, pero queremos reiniciar, usamos el bot√≥n Reiniciar.
                    // O podr√≠amos hacer que Inicio *siempre* reinicie:
                    resetApp();
                }
                 // No es necesario llamar a showExerciseAreaView aqu√≠ si resetApp ya lo hace.
            });
            navAcercaLink.addEventListener('click', (e) => {
                e.preventDefault();
                if (currentView !== 'about') {
                    showAboutView();
                }
            });


            // Iniciar la aplicaci√≥n
            resetApp();

        });
        // --- FIN JAVASCRIPT ---
    </script>

</body>
</html>
